
syntax = "proto3";

package ceres.asynctask;
option  java_multiple_files = true;
option  go_package          = "code.guanmai.cn/back_end/ceres/asynctask/api;api";

import "./asynctask/proto/asynctask.proto";

service AsyncTaskDelegateService {
    rpc PrepareTask(PrepareTaskRequest) returns (PrepareTaskResponse);
    rpc ExecuteTask(ExecuteTaskRequest) returns (ExecuteTaskResponse);
}

message PrepareTaskRequest {
    Task task = 1;
}

message PrepareTaskResponse {
    Task.State task_state = 1;
    TaskData   task_data  = 2;
}

message ExecuteTaskRequest {
    Task     task      = 1;
    TaskData task_data = 2;
}

message ExecuteTaskResponse {
    Task.State task_state = 1;
    TaskData   task_data  = 2;
}
