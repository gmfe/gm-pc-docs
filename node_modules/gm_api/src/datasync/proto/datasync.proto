syntax = "proto3";

package ceres.datasync;
option  java_multiple_files = true;
option  go_package          = "code.guanmai.cn/back_end/ceres/datasync/proto;proto";

import "./cmd/protoc-gen-dao/proto/dao.proto";

enum SyncType {
    TYPE_UNSPECIFIED = 0;

    TYPE_ORDER_TO_PURCHASE_TASK         = 1; //订单同步到采购计划
    TYPE_ORDER_TO_PRODUCTION_TASK       = 2; // 订单同步到生产任务
    TYPE_ORDER_TO_INVENTORY_STOCK_SHEET = 3; // 订单同步到进销存单据
}

message DataSyncSequence {
    option (dao.partition_count) = 1;
    option (dao.model_type)      = TYPE_DATA_SYNC_SEQUENCE;

    // @inject_tag: gorm:"PRIMARY_KEY"
    uint64 data_sync_sequence_id = 1;
    uint64 create_time           = 4; // 创建时间
    uint64 update_time           = 5; // 修改时间
    uint64 delete_time           = 6; // 删除时间，非0表示已删除

    //    common.Model.Type model_type   = 20;
    uint64   partition_id = 21;
    SyncType sync_type    = 22;
    uint64   sequence     = 23; // 已同步的版本
    //    uint64            sync_until   = 24;
}
