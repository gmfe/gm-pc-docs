function generateMethod(methodInfo, method) {
  // 兼容下，有些人没有写 option
  if (!methodInfo.options) {
    return ''
  }

  const url = methodInfo.options['(google.api.http).post']

  return `export const ${method} = (r?: ${method}Request, codes?: number[]) =>
  Request<${method}Response>('${url}')
    .code([...(codes || [])])
    .data(r || {})
    .run()
${method}.url = '${url}'`
}

module.exports = generateMethod
