const { logError } = require('../util')

function lintMethod(methodInfo, method, protoName) {
  const { requestType, responseType, options } = methodInfo

  if (
    `${method}Request` !== requestType ||
    `${method}Response` !== responseType
  ) {
    logError('请检查', method, requestType, responseType, '拼写')
  }

  if (!options || !options['(google.api.http).post']) {
    logError('提供正确的 option', method)
  }

  if (
    options &&
    options['(google.api.http).post'] !== `/${protoName}/${method}`
  ) {
    logError('post url 不对', method, options['(google.api.http).post'])
  }
}

module.exports = lintMethod
